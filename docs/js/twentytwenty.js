!function(t){t.fn.twentytwenty=function(e){return e=t.extend({default_offset_pct:.5,orientation:"horizontal",before_label:"Before",after_label:"After",no_overlay:!1,move_slider_on_hover:!1,move_with_handle_only:!0,click_to_move:!1},e),this.each((function(){function n(t){((t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY)&&"vertical"!==c||(t.distX<t.distY&&t.distX<-t.distY||t.distX>t.distY&&t.distX>-t.distY)&&"vertical"===c)&&t.preventDefault(),s.addClass("active"),y=s.offset().left,h=s.offset().top,u=r.width(),_=r.height()}function i(t){s.hasClass("active")&&(o=p(t.pageX,t.pageY),v(o))}function a(){s.removeClass("active")}var o=e.default_offset_pct,s=t(this),c=e.orientation,d="vertical"===c?"down":"left",l="vertical"===c?"up":"right",r=(s.wrap("<div class='twentytwenty-wrapper twentytwenty-"+c+"'></div>"),e.no_overlay||(s.append("<div class='twentytwenty-overlay'></div>"),(m=s.find(".twentytwenty-overlay")).append("<div class='twentytwenty-before-label' data-content='"+e.before_label+"'></div>"),m.append("<div class='twentytwenty-after-label' data-content='"+e.after_label+"'></div>")),s.find("img:first")),w=s.find("img:last"),f=(s.append("<div class='twentytwenty-handle'></div>"),s.find(".twentytwenty-handle")),v=(f.append("<span class='twentytwenty-"+d+"-arrow'></span>"),f.append("<span class='twentytwenty-"+l+"-arrow'></span>"),s.addClass("twentytwenty-container"),r.addClass("twentytwenty-before"),w.addClass("twentytwenty-after"),function(t){var e,n={w:(n=r.width())+"px",h:(e=r.height())+"px",cw:t*n+"px",ch:t*e+"px"};f.css("vertical"===c?"top":"left","vertical"===c?n.ch:n.cw),t=n,"vertical"===c?(r.css("clip","rect(0,"+t.w+","+t.ch+",0)"),w.css("clip","rect("+t.ch+","+t.w+","+t.h+",0)")):(r.css("clip","rect(0,"+t.cw+","+t.h+",0)"),w.css("clip","rect(0,"+t.w+","+t.h+","+t.cw+")")),s.css("height",t.h)}),p=function(t,e){return e="vertical"===c?(e-h)/_:(t-y)/u,Math.max(0,Math.min(1,e))},y=(t(window).on("resize.twentytwenty",(function(t){v(o)})),0),h=0,u=0,_=0,m=e.move_with_handle_only?f:s;m.on("movestart",n),m.on("move",i),m.on("moveend",a),e.move_slider_on_hover&&(s.on("mouseenter",n),s.on("mousemove",i),s.on("mouseleave",a)),f.on("touchmove",(function(t){t.preventDefault()})),s.find("img").on("mousedown",(function(t){t.preventDefault()})),e.click_to_move&&s.on("click",(function(t){y=s.offset().left,h=s.offset().top,u=r.width(),_=r.height(),o=p(t.pageX,t.pageY),v(o)})),t(window).trigger("resize.twentytwenty")}))}}(jQuery);